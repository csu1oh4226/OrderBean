# PRD: OrderBean 관리자 인터페이스

## Document Info

- **작성자**: OrderBean Team
- **작성일**: 2025-12-15
- **최종 수정일**: 2025-12-15
- **버전**: 2.0
- **상태**: Draft
- **승인자**: PM / Tech Lead / Design Lead

---

## Table of Contents

1. [Executive Summary](#1-executive-summary)
2. [목표 및 성공 지표](#2-목표-및-성공-지표)
3. [사용자 & 페르소나](#3-사용자--페르소나)
4. [기능 명세](#4-기능-명세)
5. [UX/UI 설계](#5-uxui-설계)
6. [기술 사양](#6-기술-사양)
7. [API 개요](#7-api-개요)
8. [데이터 모델](#8-데이터-모델)
9. [비기능 요구사항](#9-비기능-요구사항)
10. [일정 및 마일스톤](#10-일정-및-마일스톤)

---

## 1. Executive Summary

### 1.1 제품 개요

OrderBean 관리자 인터페이스는 카페 운영자가 주문, 재고, 매장을 효율적으로 관리할 수 있는 웹 기반 관리 도구입니다. 실시간 주문 현황, 재고 관리, 주문 처리 기능을 제공합니다.

### 1.2 배경 및 필요성

#### 사용자 문제 (Pain Point)

- 주문 상태를 실시간으로 확인하고 관리하기 어려움
- 재고 수량을 수동으로 관리하는 것이 번거로움
- 주문 접수 및 처리 프로세스가 비효율적
- 주문 현황을 한눈에 파악하기 어려움

### 1.3 핵심 가치

- **효율성**: 주문을 빠르게 접수하고 처리
- **명확성**: 실시간 주문 현황 및 재고 상태를 한눈에 파악
- **편의성**: 재고 수량을 쉽게 조정하고 관리

### 1.4 범위 (Scope)

#### In Scope

- ✅ 관리자 대시보드 (주문 통계)
- ✅ 재고 현황 관리 (메뉴별 재고 수량 표시 및 조정)
- ✅ 주문 현황 관리 (주문 목록, 주문 접수)
- ✅ 주문 상태 변경 (접수 → 제조 중 → 제조 완료)

#### Out of Scope

- ❌ 결제 관리 (Phase 2)
- ❌ 직원 관리 (Phase 2)
- ❌ 매출 상세 분석 (Phase 2)

---

## 2. 목표 및 성공 지표

### 2.1 제품 목표

- 주문 접수 시간 50% 단축
- 재고 관리 작업 시간 60% 단축
- 관리자 만족도 4.5/5.0 이상

### 2.2 핵심 지표 (Key Metrics)

| 지표 | 목표 | 측정 방법 |
|------|------|-----------|
| 주문 접수 시간 | <30초 | 주문 접수 로그 |
| 재고 조정 시간 | <10초 | 재고 업데이트 로그 |
| 관리자 만족도 | ≥4.5/5.0 | 설문 조사 |
| 실시간 업데이트 지연 | <1초 | WebSocket 응답 시간 |

---

## 3. 사용자 & 페르소나

### 3.1 주요 사용자

#### 페르소나 1: 카페 매니저

- **이름**: 김영희 (35세)
- **역할**: 카페 매니저
- **목표**: 주문을 빠르게 접수하고 처리
- **Pain Point**: 
  - 주문이 몰릴 때 관리가 어려움
  - 재고 수량 확인이 번거로움
- **사용 패턴**: 
  - 하루 20회 이상 접속
  - 주문 현황 페이지 주로 사용

#### 페르소나 2: 카페 사장

- **이름**: 박철수 (42세)
- **역할**: 카페 사장
- **목표**: 전체 운영 현황을 파악하고 최적화
- **Pain Point**: 
  - 주문 통계를 한눈에 파악하기 어려움
  - 재고 관리가 어려움
- **사용 패턴**: 
  - 하루 5-10회 접속
  - 대시보드 페이지 주로 사용

---

## 4. 기능 명세

### 4.1 관리자 대시보드

#### 4.1.1 주문 통계 요약

**기능**: 주요 주문 통계를 한눈에 표시

**요구사항**:
- 총 주문 수 표시
- 주문 접수 수 표시
- 제조 중 주문 수 표시
- 제조 완료 주문 수 표시
- 실시간 업데이트

**레이아웃**:
```
총 주문 1 / 주문 접수 1 / 제조 중 0 / 제조 완료 0
```

**우선순위**: High

### 4.2 재고 현황 관리

#### 4.2.1 재고 현황 표시

**기능**: 메뉴별 재고 수량을 카드 형태로 표시

**요구사항**:
- 메뉴 이름 표시
- 현재 재고 수량 표시 (예: "10개")
- 각 메뉴별 카드 레이아웃
- 그리드 형태 배치

**우선순위**: High

#### 4.2.2 재고 수량 조정

**기능**: 재고 수량을 증가/감소

**요구사항**:
- "+" 버튼: 재고 수량 증가
- "-" 버튼: 재고 수량 감소
- 실시간 업데이트
- 최소값 0 제한

**UI 요소**:
- 각 메뉴 카드 하단에 "+" 및 "-" 버튼 배치
- 버튼은 작은 정사각형 형태

**우선순위**: High

### 4.3 주문 현황 관리

#### 4.3.1 주문 목록 표시

**기능**: 대기 중인 주문 목록을 표시

**요구사항**:
- 주문 날짜 및 시간 표시 (예: "7월 31일 13:00")
- 주문 메뉴 및 수량 표시 (예: "아메리카노(ICE) x 1")
- 주문 금액 표시 (예: "4,000원")
- 리스트 형태 레이아웃

**우선순위**: High

#### 4.3.2 주문 접수

**기능**: 대기 중인 주문을 접수 처리

**요구사항**:
- 각 주문 항목에 "주문 접수" 버튼 표시
- 버튼 클릭 시 주문 상태 변경 (대기 → 접수)
- 접수 후 주문 통계 자동 업데이트
- 실시간 상태 반영

**UI 요소**:
- 주문 항목 오른쪽에 "주문 접수" 버튼 배치

**우선순위**: High

#### 4.3.3 주문 상태 변경

**기능**: 주문 상태를 단계별로 변경

**요구사항**:
- 주문 상태 흐름: 대기 → 접수 → 제조 중 → 제조 완료
- 각 단계별 버튼 제공
- 상태 변경 시 통계 자동 업데이트

**우선순위**: Medium

---

## 5. UX/UI 설계

### 5.1 디자인 원칙

- **깔끔하고 미니멀**: 불필요한 요소 제거
- **명확한 계층 구조**: 정보의 중요도에 따른 시각적 계층
- **일관성**: 일관된 버튼 스타일 및 레이아웃
- **반응형**: 다양한 화면 크기 지원

### 5.2 레이아웃

#### 헤더
- 왼쪽: 브랜드명 "COZY"
- 오른쪽: "주문하기", "관리자" 버튼
- "관리자" 버튼은 선택 상태로 표시 (하이라이트)

#### 메인 콘텐츠 영역

1. **관리자 대시보드 섹션**
   - 제목: "관리자 대시보드"
   - 주문 통계 요약 (한 줄로 표시)

2. **재고 현황 섹션**
   - 제목: "재고 현황"
   - 메뉴별 카드 그리드 레이아웃
   - 각 카드: 메뉴명, 재고 수량, +/- 버튼

3. **주문 현황 섹션**
   - 제목: "주문 현황"
   - 주문 목록 (리스트 형태)
   - 각 항목: 날짜/시간, 메뉴/수량, 가격, "주문 접수" 버튼

### 5.3 컴포넌트 스타일

#### 버튼
- **주문하기/관리자**: 헤더 우측, 기본 스타일
- **관리자 버튼**: 선택 시 하이라이트
- **+/- 버튼**: 작은 정사각형, 재고 카드 하단
- **주문 접수 버튼**: 주문 항목 우측, 기본 스타일

#### 카드
- 재고 카드: 메뉴명, 수량, 버튼 포함
- 회색 테두리
- 충분한 패딩

#### 리스트
- 주문 목록: 날짜/시간, 메뉴 정보, 가격, 버튼
- 구분선 또는 간격으로 항목 구분

### 5.4 와이어프레임 참조

제공된 와이어프레임을 기반으로:
- 헤더: "COZY" 브랜드명 + "주문하기"/"관리자" 버튼
- 대시보드: 주문 통계 요약 (총 주문 / 주문 접수 / 제조 중 / 제조 완료)
- 재고 현황: 메뉴별 카드 (메뉴명, 수량, +/- 버튼)
- 주문 현황: 주문 리스트 (날짜/시간, 메뉴, 가격, 주문 접수 버튼)

---

## 6. 기술 사양

### 6.1 프론트엔드

- **프레임워크**: React (Next.js)
- **언어**: TypeScript
- **스타일링**: Tailwind CSS
- **상태 관리**: Zustand
- **데이터 페칭**: React Query
- **실시간 통신**: WebSocket (Socket.io)

### 6.2 백엔드

- **프레임워크**: FastAPI (Python)
- **언어**: Python 3.11+
- **ORM**: SQLAlchemy
- **인증**: FastAPI Users, OAuth2
- **실시간 통신**: WebSocket
- **문서화**: Swagger / ReDoc

### 6.3 데이터베이스

- **주 데이터베이스**: PostgreSQL
- **캐시**: Redis (선택적)

---

## 7. API 개요

### 7.1 대시보드 API

#### GET /api/admin/dashboard

**설명**: 대시보드 통계 데이터 조회

**응답**:
```json
{
  "totalOrders": 1,
  "receivedOrders": 1,
  "preparingOrders": 0,
  "completedOrders": 0
}
```

### 7.2 재고 관리 API

#### GET /api/admin/inventory

**설명**: 재고 현황 조회

**응답**:
```json
{
  "inventory": [
    {
      "menu_id": "menu-001",
      "menu_name": "아메리카노(ICE)",
      "stock": 10
    },
    {
      "menu_id": "menu-002",
      "menu_name": "아메리카노(HOT)",
      "stock": 10
    },
    {
      "menu_id": "menu-003",
      "menu_name": "카페라떼",
      "stock": 10
    }
  ]
}
```

#### PATCH /api/admin/inventory/:menu_id

**설명**: 재고 수량 조정

**요청 본문**:
```json
{
  "action": "increase",  // 또는 "decrease"
  "amount": 1
}
```

**응답**:
```json
{
  "menu_id": "menu-001",
  "menu_name": "아메리카노(ICE)",
  "stock": 11
}
```

### 7.3 주문 관리 API

#### GET /api/admin/orders/pending

**설명**: 대기 중인 주문 목록 조회

**응답**:
```json
{
  "orders": [
    {
      "order_id": "order-001",
      "order_date": "2025-07-31T13:00:00Z",
      "items": [
        {
          "menu_name": "아메리카노(ICE)",
          "quantity": 1
        }
      ],
      "total_price": 4000,
      "status": "PENDING"
    }
  ]
}
```

#### POST /api/admin/orders/:id/receive

**설명**: 주문 접수 처리

**응답**:
```json
{
  "order_id": "order-001",
  "status": "RECEIVED",
  "message": "주문이 접수되었습니다"
}
```

#### PATCH /api/admin/orders/:id/status

**설명**: 주문 상태 변경

**요청 본문**:
```json
{
  "status": "PREPARING"  // 또는 "COMPLETED"
}
```

---

## 8. 데이터 모델

### 8.1 주문 (Order)

```typescript
interface Order {
  order_id: string
  user_id: string
  store_id: string
  pickup_time: string
  status: 'PENDING' | 'RECEIVED' | 'PREPARING' | 'COMPLETED' | 'CANCELLED'
  total_price: number
  created_at: string
  items: OrderItem[]
}
```

### 8.2 재고 (Inventory)

```typescript
interface Inventory {
  menu_id: string
  menu_name: string
  stock: number
  updated_at: string
}
```

### 8.3 주문 통계 (OrderStats)

```typescript
interface OrderStats {
  totalOrders: number
  receivedOrders: number
  preparingOrders: number
  completedOrders: number
}
```

---

## 9. 비기능 요구사항

### 9.1 성능

- 페이지 로딩 시간: <2초
- API 응답 시간: <500ms
- 실시간 업데이트 지연: <1초
- 재고 조정 응답 시간: <200ms

### 9.2 보안

- 관리자 인증 필수
- JWT 토큰 기반 인증
- HTTPS 통신
- 권한 검증
- 재고 조정 로그 기록

### 9.3 사용성

- 직관적인 UI/UX
- 반응형 디자인
- 접근성 고려
- 실시간 피드백

### 9.4 신뢰성

- 실시간 동기화
- 데이터 일관성 보장
- 오류 처리 및 복구

---

## 10. 일정 및 마일스톤

### Phase 1: 기본 기능 (2주)

- [ ] 관리자 대시보드 기본 통계
- [ ] 재고 현황 표시
- [ ] 재고 수량 조정 (+/-)
- [ ] 주문 목록 조회
- [ ] 주문 접수 기능

### Phase 2: 고급 기능 (1주)

- [ ] 주문 상태 변경 (제조 중, 제조 완료)
- [ ] 실시간 업데이트 (WebSocket)
- [ ] 재고 부족 알림

### Phase 3: 최적화 (1주)

- [ ] 성능 최적화
- [ ] UI/UX 개선
- [ ] 테스트 및 버그 수정

---

## 11. 사용자 시나리오

### 시나리오 1: 주문 접수

1. 관리자가 관리자 페이지 접속
2. "주문 현황" 섹션에서 새 주문 확인
3. "주문 접수" 버튼 클릭
4. 주문 상태가 "접수"로 변경
5. 대시보드 통계 자동 업데이트

### 시나리오 2: 재고 조정

1. 관리자가 "재고 현황" 섹션 확인
2. 특정 메뉴의 재고 수량 확인
3. "+" 또는 "-" 버튼 클릭
4. 재고 수량 실시간 업데이트
5. 변경 사항 데이터베이스에 저장

### 시나리오 3: 주문 통계 확인

1. 관리자가 관리자 페이지 접속
2. "관리자 대시보드" 섹션에서 통계 확인
3. 총 주문, 접수, 제조 중, 완료 수 확인
4. 실시간으로 업데이트되는 통계 모니터링

---

**작성 완료일**: 2025-12-15
